-- OPERAÇÕES CONTEMPLADAS PELO CASO DE TESTE:
-- CADASTRO DE CLIENTES
-- IMPRIMIR ARQUIVO DE CLIENTES
-- IMPRIMIR ÍNDICE DE CLIENTES

\echo file ARQUIVO_CLIENTES
ERRO: Arquivo vazio
\echo index clientes_idx
[0]

-- cliente A (causa o redimensionamento da tabela hash)
INSERT INTO clientes VALUES ('11441282327', 'Maria Eugenia', '12/04/1980', 'mariaeugenia@gmail.com', '15998765645');
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000000.00;;#########################################################################################################################################################################
\echo index clientes_idx
[0] {11441282327, 0000}
[1]
[2]

-- cliente B
INSERT INTO clientes VALUES ('10016531729', 'Gabriel Augusto', '04/05/1997', 'ga.augusto@gmail.com', '15997675654');
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000000.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000000.00;;#########################################################################################################################################################################
\echo index clientes_idx
[0] {11441282327, 0000}
[1]
[2] {10016531729, 0001}

-- cliente C (causa o redimensionamento da tabela hash)
INSERT INTO clientes VALUES ('10823378840', 'Geovana Santana', '25/10/1994', 'ge.santana@gmail.com', '16996543652');
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000000.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000000.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################
\echo index clientes_idx
[0] {10016531729, 0001}
[1]
[2]
[3]
[4]
[5] {10823378840, 0002}
[6] {11441282327, 0000}

-- cliente D
INSERT INTO clientes VALUES ('54654367865', 'Gustavo Almeida', '19/11/1992', 'galmeida@gmail.com', '14998786754');
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000000.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000000.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################
\echo index clientes_idx
[0] {10016531729, 0001}
[1]
[2]
[3]
[4] {54654367865, 0003}
[5] {10823378840, 0002}
[6] {11441282327, 0000}

-- cliente E
INSERT INTO clientes VALUES ('37567876542', 'Melissa Santos', '13/04/1977', 'melissa@gmail.com', '15998765435');
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000000.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000000.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################
\echo index clientes_idx
[0] {10016531729, 0001}
[1] {37567876542, 0004}
[2]
[3]
[4] {54654367865, 0003}
[5] {10823378840, 0002}
[6] {11441282327, 0000}

-- cliente F, email igual ao do cliente E (causa o redimensionamento da tabela hash)
INSERT INTO clientes VALUES ('14565436782', 'Melissa Pereira', '19/09/1993', 'melissa@gmail.com', '15997654738');
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000000.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000000.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################
\echo index clientes_idx
[0]
[1] {54654367865, 0003}
[2]
[3]
[4]
[5]
[6]
[7]
[8]
[9] {11441282327, 0000}
[10] {10823378840, 0002}
[11] {14565436782, 0005}
[12]
[13]
[14]
[15] {37567876542, 0004}
[16] {10016531729, 0001}

-- cliente G, celular igual ao do cliente D
INSERT INTO clientes VALUES ('23465784759', 'Jose Santos', '03/07/1968', 'josesantos@gmail.com', '14998786754');
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000000.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000000.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################
\echo index clientes_idx
[0]
[1] {54654367865, 0003}
[2]
[3]
[4]
[5]
[6]
[7]
[8]
[9] {11441282327, 0000}
[10] {10823378840, 0002}
[11] {14565436782, 0005}
[12] {23465784759, 0006}
[13]
[14]
[15] {37567876542, 0004}
[16] {10016531729, 0001}

-- cliente com CPF duplicado
INSERT INTO clientes VALUES ('23465784759', 'Roberta Lima', '17/04/1991', 'roberta91@gmail.com', '11978876623');
ERRO: Ja existe um registro com a chave primaria 23465784759
INSERT INTO clientes VALUES ('14565436782', 'Roberta Lima', '17/04/1991', 'roberta91@gmail.com', '11978876623');
ERRO: Ja existe um registro com a chave primaria 14565436782
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000000.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000000.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################
\echo index clientes_idx
[0]
[1] {54654367865, 0003}
[2]
[3]
[4]
[5]
[6]
[7]
[8]
[9] {11441282327, 0000}
[10] {10823378840, 0002}
[11] {14565436782, 0005}
[12] {23465784759, 0006}
[13]
[14]
[15] {37567876542, 0004}
[16] {10016531729, 0001}

-- depósito para o cliente A
UPDATE clientes SET saldo = saldo + 10 WHERE cpf = '11441282327';
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000010.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000000.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################

-- depósito para o cliente B
UPDATE clientes SET saldo = saldo + 18 WHERE cpf = '10016531729';
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000010.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000018.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################

-- depósito para o cliente C
UPDATE clientes SET saldo = saldo + 5 WHERE cpf = '10823378840';
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000010.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000018.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000005.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################

-- saque para o cliente C
UPDATE clientes SET saldo = saldo + -3 WHERE cpf = '10823378840';
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000010.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000018.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000002.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################

-- saque para o cliente C
UPDATE clientes SET saldo = saldo + -2 WHERE cpf = '10823378840';
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000010.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000018.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################

-- saque com saldo insuficiente para o cliente D
UPDATE clientes SET saldo = saldo + -191 WHERE cpf = '54654367865';
ERRO: Saldo insuficiente
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000010.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000018.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################

-- depósito para um cliente inexistente
UPDATE clientes SET saldo = saldo + 1250.80 WHERE cpf = '3987655678';
ERRO: Registro nao encontrado
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000010.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000018.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################

-- saque de um cliente inexistente
UPDATE clientes SET saldo = saldo + -250.80 WHERE cpf = '3987655678';
ERRO: Registro nao encontrado
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;0000000010.00;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000018.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################

-- depósito válido para o cliente A utilizando todos os dígitos disponíveis para o saldo
UPDATE clientes SET saldo = saldo + 4815002008.12 WHERE cpf = '11441282327';
OK
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;4815002018.12;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000018.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################

-- saque válido para o cliente D
UPDATE clientes SET saldo = saldo + -190 WHERE cpf = '54654367865';
ERRO: Saldo insuficiente
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;4815002018.12;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000018.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################

-- operação com valor ínválido para o cliente C
UPDATE clientes SET saldo = saldo + 0 WHERE cpf = '10823378840';
ERRO: Valor invalido
\echo file ARQUIVO_CLIENTES
11441282327;Maria Eugenia;12/04/1980;mariaeugenia@gmail.com;15998765645;4815002018.12;;#########################################################################################################################################################################10016531729;Gabriel Augusto;04/05/1997;ga.augusto@gmail.com;15997675654;0000000018.00;;#########################################################################################################################################################################10823378840;Geovana Santana;25/10/1994;ge.santana@gmail.com;16996543652;0000000000.00;;#########################################################################################################################################################################54654367865;Gustavo Almeida;19/11/1992;galmeida@gmail.com;14998786754;0000000000.00;;###########################################################################################################################################################################37567876542;Melissa Santos;13/04/1977;melissa@gmail.com;15998765435;0000000000.00;;#############################################################################################################################################################################14565436782;Melissa Pereira;19/09/1993;melissa@gmail.com;15997654738;0000000000.00;;############################################################################################################################################################################23465784759;Jose Santos;03/07/1968;josesantos@gmail.com;14998786754;0000000000.00;;#############################################################################################################################################################################

\q
